<app-sidebar (toggleEmitter)="toggle()"></app-sidebar>

<section>
    <div id="wrapper" [ngClass]="{'active': showSidebar==false}">
        <div class="fakeLoader"></div>
        <div id="page-wrapper">
            <div class=" page-titles row">
                <div class="col-md-12">
                    <div class="">
                        <div class="col-md-5 align-self-center">
                            <h3 class="text-themecolor">Payment</h3>
                        </div>
                        <div class="col-md-7 align-self-center" >
                            <ol class="breadcrumb" [hidden]="this.Is_Billable === '' || this.Is_Billable === undefined">
                                <li class="breadcrumb-item"><a [routerLink]="['/payouts/Advance']">Advance</a></li>
                                <li class="breadcrumb-item active">Advance Payment</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">

                <div class="col-md-12">
                    <div class="row" *ngIf="!paymentStarted">

                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="login-panel panel panel-default mrg-top-0">
                                        <div class="panel-body">


                                            <form autocomplete="off" class="Add-Ons-outer-box">
                                                <div class="form-group">

                                                    <div class=" col-md-6 ">
                                                        <input [value]="this.company_name"
                                                            placeholder="Billing Name/Company Name" class="form-control"
                                                            type="text" readonly>
                                                    </div>
                                                    <div class=" col-md-6 ">
                                                        <input [value]="this.employer_mobile" placeholder="Phone Number"
                                                            class="form-control" type="text" readonly>
                                                    </div>
                                                </div>

                                                <div class="form-group">

                                                    <div class=" col-md-12 ">
                                                        <input [value]="this.registered_address"
                                                            placeholder="Street Address" class="form-control"
                                                            type="text" readonly>
                                                    </div>

                                                </div>
                                                <!-- <div class="form-group">
										     <div class=" col-md-6 ">
												<input placeholder="India" class="form-control" type="text">
											</div>
											<div class=" col-md-6 ">



											  <select class="form-control">
											    <option value="">Select State</option>
												<option value="”Andaman" and="" nicobar="" islands”="">Andaman and Nicobar Islands</option>
												<option value="”Andhra" pradesh”="">Andhra Pradesh</option>
												<option value="”Arunachal" pradesh”="">Arunachal Pradesh</option>
												<option value="”Assam”">Assam</option>
												<option value="”Bihar”">Bihar</option>
												<option value="”Chandigarh”">Chandigarh</option>
												<option value="”Chhattisgarh”">Chhattisgarh</option>
												<option value="”Dadra" and="" nagar="" haveli”="">Dadra and Nagar Haveli</option>
												<option value="”Daman" and="" diu”="">Daman and Diu</option>
												<option value="”Delhi”" selected>Delhi</option>
												<option value="”Goa”">Goa</option>
												<option value="”Gujarat”">Gujarat</option>
												<option value="”Haryana”">Haryana</option>
												<option value="”Himachal" pradesh”="">Himachal Pradesh</option>
												<option value="”Jammu" and="" kashmir”="">Jammu and Kashmir</option>
												<option value="”Jharkhand”">Jharkhand</option>
												<option value="”Karnataka”">Karnataka</option>
												<option value="”Kerala”">Kerala</option>
												<option value="”Lakshadweep”">Lakshadweep</option>
												<option value="”Madhya" pradesh”="">Madhya Pradesh</option>
												<option value="”Maharashtra”">Maharashtra</option>
												<option value="”Manipur”">Manipur</option>
												<option value="”Meghalaya”">Meghalaya</option>
												<option value="”Mizoram”">Mizoram</option>
												<option value="”Nagaland”">Nagaland</option>
												<option value="”Orissa”">Orissa</option>
												<option value="”Pondicherry”">Pondicherry</option>
												<option value="”Punjab”">Punjab</option>
												<option value="”Rajasthan”">Rajasthan</option>
												<option value="”Sikkim”">Sikkim</option>
												<option value="”Tamil" nadu”="">Tamil Nadu</option>
												<option value="”Tripura”">Tripura</option>
												<option value="”Uttaranchal”">Uttaranchal</option>
												<option value="”Uttar" pradesh”="">Uttar Pradesh</option>
												<option value="”West" bengal”="">West Bengal</option>
												</select>

											</div>
										</div> -->


                                                <div class="form-group">

                                                    <div class=" col-md-6 ">
                                                        <input [value]="this.employer_profile.company_state"
                                                            placeholder="City" class="form-control" type="text"
                                                            readonly>
                                                    </div>
                                                    <div class=" col-md-6 ">
                                                        <input [value]="this.employer_profile.company_pincode"
                                                            placeholder="ZIP" class="form-control" type="text" readonly>
                                                    </div>
                                                </div>


                                                <!-- <div class="form-group">

											<div class="col-md-12 mrg-bot-10">
											<span class="">Are you registered for GSTIN?</span>
											<label class="btn-radio-box"><input checked="" type="radio" name="registeredGSTIN" onclick="show1();"> Yes </label>
											<label class="btn-radio-box"><input type="radio" name="registeredGSTIN" onclick="show2();"> No </label>
											</div>

										</div>


										<div id="div1" class="form-group">

											<div class=" col-md-6 ">
												<input placeholder="GSTIN" class="form-control ng-touched ng-pristine ng-invalid" type="text">
											</div>

										</div> -->

                                                <div class="form-group">

                                                    <div class="form-base clearfix walletPart tal col-md-12">
                                                        <!-- <div class="paymentDescription"><span>TankhaPay Subscription
                                                                Balance is where you can add funds and use them later
                                                                when you purchase licenses from TankhaPay or for future
                                                                auto-renewal payments.</span></div> -->
                                                        <div class="add-fund">
                                                            <div class="existingBalDetails">
                                                                <!-- <div>TankhaPay Subscription Balance ID :<span class="balance-id"> 2004598049855</span></div> -->
                                                                <div>Your Current Balance :<span class="currencySymbol">
                                                                        ₹ <span class="cur-amount">
                                                                            {{(customerSummary!=''?
                                                                            customerSummary.balance:'0.00')}}</span></span>
                                                                </div>
                                                                <div>Minimum Amount for this transaction :<span
                                                                        class="currencySymbol">₹ <span
                                                                            class="trans-amount"> {{ initialAmount !==
                                                                            undefined && initialAmount !== '' ?
                                                                            initialAmount : amount }}
                                                                        </span></span></div>
                                                            </div>
                                                            <div class="add-fund-container" style="display: block;">
                                                                <div class="mB10">
                                                                    <span class="add-fund-label">Add Funds : </span>
                                                                    <div class="add-fund-inp-div">
                                                                        <span class="currencySymbol">₹ </span>
                                                                        <input class="add-fund-inp not-empty"
                                                                            type="number" [(ngModel)]="amount"
                                                                            [ngModelOptions]="{ standalone: true }"
                                                                            (blur)="onAmountChange()"
                                                                            (copy)="onAmountChange()"
                                                                            (paste)="onAmountChange()"
                                                                            (keypress)="handleKeyPress()"
                                                                            (keyup)="handleKeyPress()"
                                                                            (keydown)="handleKeyPress()">
                                                                        <!-- <button type="button"
                                                                            style="cursor: pointer; margin-left: 10px;"
                                                                            title="Click for Add balance"
                                                                            class="btn btn-primary mb-2"
                                                                            (click)="addBalance()">Add Balance</button> -->
                                                                    </div>
                                                                </div>
                                                                <div class="min-fund mB10 mrg-top-10">Please add a
                                                                    amount of ₹{{this.amount}} to proceed with this
                                                                    transaction.</div>
                                                                <div class="keep-fund">Keep sufficient funds in your
                                                                    TankhaPay account for uninterrupted
                                                                    payouts.</div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>

                                            </form>

                                        </div>

                                    </div>
                                </div>



                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="row">
                                <div class="col-md-12">
                                    <!-- *ngIf="showPaymentSummary" -->
                                    <div class="login-panel panel panel-default mrg-top-0" id="SummarymyHeader">
                                        <div class="panel-body">

                                            <div>
                                                <div class="form-group">
                                                    <form autocomplete="off" class="Add-Ons-outer-box">
                                                        <div class="form-group">
                                                            <label
                                                                class="addon-price-box Summary-title-box col-md-12">Summary</label>

                                                        </div>

                                                        <div class="form-group Subtotal-title-box">
                                                          <label class="addon-price-box col-md-6" *ngIf="Is_Billable !== '' && Is_Billable !== undefined">
                                                            Advance Amount
                                                        </label>

                                                        <label class="addon-price-box  col-md-6" *ngIf="!(Is_Billable !== '' && Is_Billable !== undefined)">
                                                            Amount</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <span class="addon-price">{{
                                                                    this.showPaymentSummary==false ?'0' :amount
                                                                    }}</span>
                                                                <!-- <span class="addon-price" >{{ amount }}</span> -->
                                                                <!-- <span class="addon-price" *ngIf="Is_Billable != 'N'">{{ invoicedetail?.netamountreceived }}</span> -->
                                                            </div>
                                                        </div>
                                                        <div class="form-group Subtotal-title-box"
                                                            [hidden]="amount !== initialAmount || Is_Billable === '' || Is_Billable === undefined">
                                                            <label class="addon-price-box  col-md-6">Payrolling
                                                                Charge</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <!-- <span class="addon-price" *ngIf=" Is_Billable === '' || Is_Billable === undefined">0</span> -->
                                                                <span class="addon-price">{{
                                                                    invoicedetail?.payrollingcharges }}</span>
                                                            </div>
                                                        </div>
                                                        <div class="form-group Subtotal-title-box"
                                                            [hidden]="amount !== initialAmount || Is_Billable === '' || Is_Billable === undefined">
                                                            <label class="addon-price-box col-md-6">CGST @ {{
                                                                invoicedetail.cgstrate }}%</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <!-- <span class="addon-price" *ngIf=" Is_Billable === '' || Is_Billable === undefined">0</span> -->
                                                                <span class="addon-price">{{ invoicedetail.cgstamount
                                                                    }}</span>
                                                            </div>
                                                        </div>
                                                        <div class="form-group Subtotal-title-box"
                                                            [hidden]="amount !== initialAmount || Is_Billable === '' || Is_Billable === undefined">
                                                            <label class="addon-price-box col-md-6">SGST @ {{
                                                                invoicedetail.sgstrate }}%</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <!-- <span class="addon-price" *ngIf=" Is_Billable === '' || Is_Billable === undefined">0</span> -->
                                                                <span class="addon-price">{{ invoicedetail.sgstamount
                                                                    }}</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group Subtotal-title-box"
                                                            [hidden]="amount !== initialAmount || Is_Billable === '' || Is_Billable === undefined">
                                                            <label class="addon-price-box col-md-6">IGST @ {{
                                                                invoicedetail.igstrate }}%</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <!-- <span class="addon-price" *ngIf=" Is_Billable === '' || Is_Billable === undefined">0</span> -->
                                                                <span class="addon-price">{{ invoicedetail.igstamount
                                                                    }}</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group Total-Amount-title-box">
                                                            <label class="addon-price-box  col-md-6">Amount To
                                                                Pay</label>
                                                            <div class="addon-price-div col-md-6 text-right">
                                                                <span class="currency-symbol">₹</span>
                                                                <ng-container>
                                                                    <span class="addon-price"
                                                                        *ngIf="((Is_Billable=='' ||Is_Billable==undefined ||Is_Billable === 'Y' ||Is_Billable === 'N')&& amount != initialAmount)">{{this.showPaymentSummary==false
                                                                        ?'0': this.amount }}</span>
                                                                </ng-container>
                                                                <ng-container *ngIf="Is_Billable === 'Y' && amount === initialAmount">
                                                                    <span class="addon-price">{{
                                                                        this.showPaymentSummary==false ?'0':
                                                                        invoicedetail?.netamountreceived }}</span>
                                                                </ng-container>
                                                                <ng-container *ngIf="Is_Billable === 'N' && amount === initialAmount">
                                                                    <span class="addon-price">{{
                                                                        this.showPaymentSummary==false
                                                                        ?'0':invoicedetail?.netamountreceived }}</span>
                                                                </ng-container>
                                                                <!-- <ng-template #elseBlock>
                                                    {{ amount }}
                                                </ng-template> -->

                                                            </div>
                                                        </div>

                                                        <a class="btn btn-primary btn-lg" style="width: 100%;"
                                                            (click)="payStart()"
                                                            [ngClass]="{'disabled': (!showPaymentSummary || amount == 0 || !screenClicked)}"
                                                            >
                                                            PROCEED TO PAY
                                                        </a>

                                                    </form>
                                                </div>
                                                <!----><!---->
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="container-fluid">
                <!-- /row -->
                <div class="">
                    <div class="row">
                        <div class="col-md-12 col-sm-12 ">
                            <div class="card">

                                <!-- <div class="card-header" [ngStyle]= "{'display':calPaymentStatus == '2'?'':'none'}">


                                    <div class="col-md-12">
                                        <div class="row">

                                            <div class="receipt-main col-xs-10 col-sm-10 col-md-12" *ngIf="invoicedetail != ''"
                                                style="background: #ffffff none repeat scroll 0 0; margin-top: 1px;  position: relative; color: #333333; font-family: open sans;">
                                                <div class="row">

                                                    <div class="col-xs-9 col-sm-9 col-md-9" style="padding-top: 53px;">
                                                        <h2 class="invoice-title-box" style="font-size: 30px;font-weight: 500;color: #000; font-weight: 500; margin: 0 0 30px 0;
                                                   text-align: left;">Receipt</h2>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-12 col-md-12 mrg-bot-15 mrg-top-15">
                                                        <div class="receipt-header heade-top-box row"
                                                            style="background: #f2f8fb; display: inline-block;  width: 100%;">

                                                            <div style="float: left;" >
                                                                <div class="receipt-left"
                                                                    style="font-size: 16px; font-weight: bold; margin: 0 0 7px 10px;">
                                                                    <h5 style="margin: 8px 0; color: #484848;"><b>PI No.</b>
                                                                        {{invoicedetail.pinumber}}</h5>
                                                                </div>
                                                            </div>
                                                            <div style="float: right;">
                                                                <div class="receipt-right"
                                                                    style="font-size: 16px; font-weight: bold; margin: 0 0 7px 0;">

                                                                    <h5 style="margin: 8px 0; color: #484848;">{{
                                                                        invoicedetail.pidate }}</h5>

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="receipt-header receipt-header-mid">
                                                        <div class="col-xs-8 col-sm-8 col-md-8 text-left"
                                                            style="float: left; width: 66.6.3%;">
                                                            <div class="receipt-right">
                                                                <h5 style="color: #000; font-weight: 700; font-size: 16px;">
                                                                    <b>{{invoicedetail.employername}}.</b>
                                                                </h5>
                                                                <p style="color: #333333;"><b>{{ invoicedetail.employeraddress}}</b></p>

                                                                <p style="color: #333333;"><b>GSTIN/UIN :</b> {{invoicedetail.employergstno}}
                                                                </p>
                                                                <p style="color: #333333;"><b>State Name :</b>  {{ invoicedetail.employerstatename}}
                                                                </p>
                                                                <p style="color: #333333;"><b>CIN :</b> {{ invoicedetail.employercinno }}
                                                                </p>
                                                                <p style="color: #333333;"><b>PAN :</b> {{ invoicedetail.employerpanno}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-4 col-sm-4 col-md-4"
                                                            style="float: right; width: 33.3%;">
                                                            <div class="receipt-left">

                                                                <div class="receipt-right">
                                                                    <h5 style="color: #000; font-weight: 500;"><b>Bill To</b>
                                                                    </h5>
                                                                    <h5 style="color: #000; font-weight: 500;">
                                                                        {{invoicedetail.customeraccountname}}</h5>
                                                                    <p><b>{{ invoicedetail.customeraddress }}</b></p>
                                                                    <p><b>State Code: :</b> {{invoicedetail.statecode}}</p>
                                                                    <p><b>GSTIN/UIN :</b> {{invoicedetail.ac_gstnumber}}</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div>
                                                    <table class="table1 table-bordered" border="1px"
                                                        style="width: 100%; border-collapse: collapse;">
                                                        <thead>
                                                            <tr>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    Description</th>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    HSN/SAC</th>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    Amount</th>
                                                            </tr>

                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="col-md-6"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    {{invoicedetail.service_name}} </td>
                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    {{invoicedetail.hsnsacnumber}} </td>
                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    &#8377; {{invoicedetail.payoutamount}}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="col-md-6 text-left">
                                                                    <h2 style="color: #000;">Total
                                                                        Amount:  </h2>


                                                                </td>
                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                </td>
                                                                <td class="col-md-3 text-left text-danger">
                                                                    <h2 style="color: #000; padding: 9px 10px !important;">
                                                                        &#8377; {{
                                                                        invoicedetail.netamountreceived }}/-</h2>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="row">
                                                    <div class="receipt-header receipt-header-mid receipt-footer">
                                                        <div class="col-xs-12 col-sm-12 col-md-12 text-left">
                                                            <div class="receipt-right">
                                                                <p>Total Amount (In Words)</p>
                                                                <h5 style="font-size: 16px;">{{ invoicedetail.amountinwords }}</h5>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row" style="padding-top: 20px;">
                                                    <div class="col-xs-6 col-sm-6 col-md-6 text-left">
                                                        <div class="receipt-left">
                                                            <p style="text-align: center; font-size: 12px; text-align: left;">
                                                                {{ invoicedetail.jurisdiction }}</p>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-6 col-md-6 text-right">
                                                        <div class="receipt-right">
                                                            <p style="text-align: center; font-size: 12px; text-align: right;">
                                                                This is a System Generated Invoice</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="form-group text-center">
                                            <button class="btn btn-info" (click)="submitPayInvoice(invoicedetail)">Pay Now</button>
                                        </div>
                                    </div>
                                 </div>  -->

                                <!-- <div class="card-header" [ngStyle]="{'display':calPaymentStatus == '2'?'':'none'}">


                                    <div class="col-md-12">
                                        <div class="row">

                                            <div class="receipt-main col-xs-10 col-sm-10 col-md-12"
                                                *ngIf="invoicedetail != ''"
                                                style="background: #ffffff none repeat scroll 0 0; margin-top: 1px;  position: relative; color: #333333; font-family: open sans;">
                                                <div class="row">

                                                    <div class="col-xs-9 col-sm-9 col-md-9" style="padding-top: 53px;">
                                                        <h2 class="invoice-title-box" style="font-size: 30px;font-weight: 500;color: #000; font-weight: 500; margin: 0 0 30px 0;
                                           text-align: left;">Receipt</h2>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-12 col-md-12 mrg-bot-15 mrg-top-15">
                                                        <div class="receipt-header heade-top-box row"
                                                            style="background: #f2f8fb; display: inline-block;  width: 100%;">

                                                            <div style="float: left;">
                                                                <div class="receipt-left"
                                                                    style="font-size: 16px; font-weight: bold; margin: 0 0 7px 10px;">
                                                                    <h5 style="margin: 8px 0; color: #484848;"><b>PI
                                                                            No.</b>
                                                                        {{invoicedetail.pinumber}}</h5>
                                                                </div>
                                                            </div>
                                                            <div style="float: right;">
                                                                <div class="receipt-right"
                                                                    style="font-size: 16px; font-weight: bold; margin: 0 0 7px 0;">

                                                                    <h5 style="margin: 8px 0; color: #484848;">{{
                                                                        invoicedetail.pidate }}</h5>

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="receipt-header receipt-header-mid">
                                                        <div class="col-xs-8 col-sm-8 col-md-8 text-left"
                                                            style="float: left; width: 66.6.3%;">
                                                            <div class="receipt-right">
                                                                <h5
                                                                    style="color: #000; font-weight: 700; font-size: 16px;">
                                                                    <b>{{invoicedetail.employername}}.</b>
                                                                </h5>
                                                                <p style="color: #333333;"><b>{{
                                                                        invoicedetail.employeraddress}}</b></p>

                                                                <p style="color: #333333;"><b>GSTIN/UIN :</b>
                                                                    {{invoicedetail.employergstno}}
                                                                </p>
                                                                <p style="color: #333333;"><b>State Name :</b> {{
                                                                    invoicedetail.employerstatename}}
                                                                </p>
                                                                <p style="color: #333333;"><b>CIN :</b> {{
                                                                    invoicedetail.employercinno }}
                                                                </p>
                                                                <p style="color: #333333;"><b>PAN :</b> {{
                                                                    invoicedetail.employerpanno}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-4 col-sm-4 col-md-4"
                                                            style="float: right; width: 33.3%;">
                                                            <div class="receipt-left">

                                                                <div class="receipt-right">
                                                                    <h5 style="color: #000; font-weight: 500;"><b>Bill
                                                                            To</b>
                                                                    </h5>
                                                                    <h5 style="color: #000; font-weight: 500;">
                                                                        {{invoicedetail.customeraccountname}}</h5>
                                                                    <p><b>{{ invoicedetail.customeraddress }}</b></p>
                                                                    <p><b>State Code: :</b> {{invoicedetail.statecode}}
                                                                    </p>
                                                                    <p><b>GSTIN/UIN :</b> {{invoicedetail.ac_gstnumber}}
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div>
                                                    <table class="table1 table-bordered" border="1px"
                                                        style="width: 100%; border-collapse: collapse;">
                                                        <thead>
                                                            <tr>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    Description</th>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    HSN/SAC</th>
                                                                <th
                                                                    style="color: #484848; font-size: 20px; font-weight: 700; background: #f2f8fb none repeat scroll 0 0; padding: 9px 20px !important;">
                                                                    Amount</th>
                                                            </tr>

                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="col-md-6"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    {{invoicedetail.service_name}} </td>
                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    {{invoicedetail.hsnsacnumber}} </td>

                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                    &#8377; {{this.amount}}
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td class="col-md-6 text-left">
                                                                    <h2 style="color: #000;">Total
                                                                        Amount: </h2>


                                                                </td>
                                                                <td class="col-md-3"
                                                                    style="font-size: 18px; font-weight: initial !important; padding: 9px 20px !important;">
                                                                </td>
                                                                <td class="col-md-3 text-left text-danger">
                                                                    <ng-container *ngIf="Is_Billable == 'N'; else elseBlock">
                                                                        <h2 style="color: #000; padding: 9px 10px !important;">&#8377; {{ amount }}/-</h2>
                                                                    </ng-container>
                                                                    <ng-template #elseBlock>
                                                                        <h2 style="color: #000; padding: 9px 10px !important;">&#8377; {{ invoicedetail?.netamountreceived }}/-</h2>
                                                                    </ng-template>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="row">
                                                    <div class="receipt-header receipt-header-mid receipt-footer">
                                                        <div class="col-xs-12 col-sm-12 col-md-12 text-left">
                                                            <div class="receipt-right">
                                                                <p>Total Amount (In Words)</p>
                                                                <h5 style="font-size: 16px;">{{
                                                                    invoicedetail.amountinwords }}</h5>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row" style="padding-top: 20px;">
                                                    <div class="col-xs-6 col-sm-6 col-md-6 text-left">
                                                        <div class="receipt-left">
                                                            <p
                                                                style="text-align: center; font-size: 12px; text-align: left;">
                                                                {{ invoicedetail.jurisdiction }}</p>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-6 col-md-6 text-right">
                                                        <div class="receipt-right">
                                                            <p
                                                                style="text-align: center; font-size: 12px; text-align: right;">
                                                                This is a System Generated Invoice</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="form-group text-center">
                                            <button class="btn btn-info" (click)="submitPayInvoice(invoicedetail)">Pay
                                                Now</button>
                                        </div>
                                    </div>


                                </div> -->

                                <!-- <div class="card-header" [ngStyle]="{'display':calPaymentStatus == '3'?'':'none'}">
                                    <div class="col-md-12">
                                        <div class="row">

                                            <div class="receipt-main col-xs-10 col-sm-10 col-md-12"
                                                *ngIf="invoicedetail != ''"
                                                style="background: #ffffff none repeat scroll 0 0; margin-top: 1px; padding: 40px 16px !important; position: relative;  color: #333333; font-family: open sans;">
                                                <div class="row">

                                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                                        <h2 class="invoice-title-box"
                                                            style="font-size: 30px;font-weight: 500;color: #000; font-weight: 500; margin: 0 0 30px 0;text-align: center;">
                                                            Pay</h2>
                                                        <hr>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                                        <div class="row" (click)="bankTransferButton()"
                                                            style="cursor: pointer;">
                                                            <div class="col-md-2">
                                                                <img src="../../../../assets/bank.png"
                                                                    style="margin-top: 13px;">
                                                            </div>
                                                            <div class="col-md-10">
                                                                <h3>Bank Transfer</h3>
                                                                <h5 class="text-danger">No Additional Charges Apply</h5>
                                                            </div>
                                                        </div>
                                                        <hr>
                                                        <div class="row" style="cursor: pointer;"
                                                            (click)="qrCodeScan()">
                                                            <div class="col-md-2">
                                                                <img src="../../../../assets/img/qr-scan.avif"
                                                                    style="margin-top: 13px;" width="50px">
                                                            </div>
                                                            <div class="col-md-10">
                                                                <h3>Qr scan</h3>
                                                                <h5 class="text-danger">No Additional Charges Apply</h5>
                                                            </div>
                                                        </div>




                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->

                                <div class="col-md-6 col-md-offset-3  mrg-bot-25"
                                    [ngStyle]="{'display':calPaymentStatus == '3'?'':'none'}">
                                    <div class="form-row form-checkbox individual-business-box">

                                        <div class="row" *ngIf="invoicedetail != ''">


                                            <div class="col-md-12 col-12">
                                                <div class="form-group">

                                                    <div class="payment-box">

                                                        <div class="padd-10">
                                                            <div class="payment-left-box">
                                                                <img src="assets/img/upi.png" class="fl-left width-30" style=" max-width: 100%;"
                                                                    alt="">
                                                                <img src="assets/img/fast-forward.png" class="arrow-btn"
                                                                    alt="" (click)="juspayRedirectbtn()"
                                                                    style="cursor: pointer;">
                                                            </div>
                                                            <div class="payment-right-box">
                                                                <!-- <h5 class="mb-0">Max Limit Rs. 100000 per day</h5> -->
                                                                <!-- <small>Additional charges may apply</small> -->
                                                            </div>
                                                        </div>                                                      
                                    

                                                        <div class="pay-box-footer bt-1">
                                                            <a (click)="juspayRedirectbtn()" data-toggle="tooltip"
                                                                data-original-title="Pay Now"
                                                                class="theme-cl font-13 fl-right"
                                                                style="cursor: pointer;">Pay Now</a>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>

                                            <div class="col-md-12 col-12">
                                                <div class="form-group">

                                                    <div class="payment-box">

                                                        <div class="padd-10">
                                                            <div class="payment-left-box">
                                                                <img src="assets/img/bank-transfer.png"
                                                                    class="fl-left width-30" alt=""
                                                                    style="max-width: 152px;">
                                                                <img src="assets/img/fast-forward.png" class="arrow-btn"
                                                                    alt="" style="cursor: pointer;"
                                                                    (click)="bankTransferButton()">
                                                            </div>
                                                            <div class="payment-right-box">
                                                                <!-- <h5 class="mb-0">Max Limit Rs. 100000 per day</h5> -->
                                                                <small>No Additional Charges</small>
                                                            </div>
                                                        </div>

                                                        <div class="pay-box-footer bt-1">
                                                            <a (click)="bankTransferButton()" data-toggle="tooltip"
                                                                data-original-title="Pay Now"
                                                                class="theme-cl font-13 fl-right"
                                                                style="cursor: pointer;">Pay Now</a>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>



<div class="modal" [ngStyle]="{'display':bankDetailModalStatus?'block':'none'}">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <form>
                <div class="modal-header theme-bg">
                    <h4 class="modal-title">Alert</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                        (click)="closeBankDetailModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label><b>Please use the following details to complete the bank transfer:</b></label>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                          <div class="row text-center">
                            <div class="col-md-12"> <b> {{ vpaDetails?.company_name }}</b><hr></div>
                        </div>                          
                        <div class="row">
                            <div class="col-md-3"> <b>Amount : </b> </div>
                            <div class="col-md-9">
                                <span *ngIf="Is_Billable == 'N'|| Is_Billable=='' || Is_Billable==undefined">&#8377;
                                    {{ amount }}</span>
                                <span *ngIf="Is_Billable == 'Y'">&#8377; {{ invoicedetail?.netamountreceived
                                    }}</span>
                            </div>
                            <div class="col-md-12">
                                <hr>
                            </div>
                        </div>
                        
                            <!-- <div class="row">
                                <div class="col-md-3"> <b>Virtual Account No : </b></div>
                                <div class="col-md-9"> <span> {{ vpaDetails?.vpa_number }}</span></div>
                                <div class="col-md-12"><hr></div>
                            </div> -->
                            <div class="row">
                              <div class="col-md-3"> <b>Account No : </b></div>
                              <div class="col-md-9"> <span> {{ vpaDetails?.accountnumber }}</span></div>
                              <div class="col-md-12"><hr></div>
                          </div>
                            <div class="row">
                                <div class="col-md-3"><b>Bank Name : </b> </div>
                                <div class="col-md-9"> <span> {{ vpaDetails?.bankname }}</span></div>
                                <div class="col-md-12"><hr></div>
                            </div>
                            <div class="row">
                                <div class="col-md-3"><b>IFSC Code : </b> </div>
                                <div class="col-md-9"> <span> {{ vpaDetails?.ifsccode }}</span></div>
                                <div class="col-md-12"><hr></div>
                            </div>
                            <div class="row">
                              <div class="col-md-3"><b>Branch Name : </b> </div>
                              <div class="col-md-9"> <span> {{ vpaDetails?.branch_name }}</span></div>
                              <div class="col-md-12"><hr></div>
                          </div>
                        </div>





                    </div>

                </div>
                <div class="modal-footer text-center">
                    <input type="button" class="btn btn-info" value="Bank Transfer" (click)="submitBankTransfer()">
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal" [ngStyle]="{'display':alertManualTransferStatus?'block':'none'}">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <form>
                <!--div class="modal-header theme-bg">
					<h4 class="modal-title">Alert</h4>
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				</div-->
                <div class="modal-body">

                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="row">
                                <ul>
                                    <li>Login to your bank via net bankning and click on VAN and VPA.</li>
                                    <li>Use the provided account number to add beneficiary.</li>
                                    <li>Depending on your bank, it may take 30 min to 2 hrs before you can transfer
                                        amount.</li>
                                    <li>Transfer to amount</li>
                                    <li>It may take upto 48 hrs for the amount to reflect, after which your TankhaPay
                                        account will be activated.</li>
                                </ul>
                            </div>
                        </div>





                    </div>

                </div>
                <div class="modal-footer text-center">
                    <input type="button" class="btn btn-info" value="Ok" (click)="submitAlertManualButton()">
                </div>
            </form>
        </div>
    </div>
</div>

<!-----QR Code Popup------>
<div class="modal  scan-and-pay-outer-box" [@grooveState]="isShowQr?'active':'inactive'" (click)="closeQRCode()">
    <div class="modal-dialog" [@dongleState]="isShowQr?'active':'inactive'" disabled style="pointer-events: auto;">
        <!-- (click)="$event.stopPropagation()" -->
        <!-- (click)="$event.stopPropagation()" -->
        <div class="modal-content" style="pointer-events: none;">
            <!-- <div class="modal-header ">
          <h2 class="modal-title">Scan QR code</h2>
          <button type="button" class="close" (click)="closeQRCode()" data-dismiss="modal"
            aria-hidden="true">&times;</button>
        </div> -->

            <div class="modal-body">


                <div class="login-panel panel panel-default">
                    <div class="panel-body">


                        <div class="form-group signup-form-box">

                            <div class="form-v10-content">
                                <div class="logo-panel-heading-box"><img src="assets/img/logo.png" alt=""
                                        class="img-responsive"></div>
                                <form class="form-detail" action="#" method="post" id="myform">

                                    <div class="form-right">
                                        <h2>Akal Information Systems Ltd </h2>

                                        <div class="form-row form-checkbox individual-business-box">

                                            <div class="row">


                                                <div class="col-md-12 col-12">
                                                    <div class="form-group">

                                                        <div class="payment-box">

                                                            <div class="padd-10">
                                                                <div class="payment-left-box1">

                                                                    <canvas #qrcode></canvas>
                                                                    <!-- <qrcode [qrdata]="qrUrl" [width]="230" [errorCorrectionLevel]="'M'"
                                      [allowEmptyString]="true"></qrcode> -->
                                                                    <!-- <img src="assets/img/scan-code-pay.jpg" alt="" class="img-responsive"> -->
                                                                </div>
                                                                <div class="payment-right-box">
                                                                    <h5 class="Total-Amount-box">₹
                                                                        {{this.invoicedetail.netamountreceived}}/-</h5>
                                                                    <h5 class="mb-0">tankhapay@hdfcbank</h5>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>

                                        </div>





                                    </div>

                                </form>

                                <p class="Time-Remaining-box"><span class="text-danger custom-time "></span></p>
                                <div class="pay-footer-box">

                                    <img src="assets/img/google-pay.png" alt="" class="img-responsive">
                                    <img src="assets/img/paytm-icon.jpg" alt="" class="img-responsive">
                                    <img src="assets/img/amazon-icon.jpg" alt="" class="img-responsive">
                                    <img src="assets/img/phonepe-icon.jpg" alt="" class="img-responsive">
                                    <img src="assets/img/cred-pay-icon.jpg" alt="" class="img-responsive">



                                </div>
                                <p class="bhim-upi-box"><img src="assets/img/bhim-upi-icon.jpg" alt=""
                                        class="img-responsive"></p>
                            </div>




                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<!-- <div class="modal" [ngStyle]="{'display':isShowQr?'block':'none'}">
    <div class="modal-dialog modal-md" style="left: 21%;
    top: 100px;">
        <div class="modal-content" style="width: 180px;">

            <div class="modal-body">

                <div class="form-group">
                    <div class="col-md-12">
                        <div class="row">
                            <qrcode [qrdata]="qrUrl" [width]="150" [errorCorrectionLevel]="'M'"
                                [allowEmptyString]="true"></qrcode>
                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer text-center">
                <input type="button" class="btn btn-info" value="Close" (click)="isShowQr=false;">
            </div>

        </div>
    </div>
</div> -->
