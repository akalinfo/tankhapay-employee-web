<!-- <app-sidebar (toggleEmitter)="toggle()"></app-sidebar> -->
<section>
    <div id="wrapper" [ngClass]="{'active': showSidebar == false}">
        <div class="fakeLoader"></div>
        <div id="page-wrapper">
            <div class="container-fluid">
                <!-- Animated Loader -->
                <div *ngIf="isLoading" class="loader-overlay">
                    <div class="loader-content">
                    <div class="spinner"></div> <!-- Rotating Loader -->
                    <p>Fetching PDF {{ loadedCount }} out of {{ totalCount }}...</p>
                    </div>
                </div>
  
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                      
                        <!-- <alert></alert> -->
                        <div>
                            <iframe id="pdfViewer" style="width:100%; height:100vh;" frameborder="0"
                            name="Merged" title="Multiple salary slip"></iframe>
                            <br>
                        </div>
                        <div class="card" id="123{{i}}" *ngFor="let employee of all_salary_data;let i=index">

                            <div class="card-header">

                                <table class="salary-slip-header-box" style=" background-color: #f6f6f6;">
                                    <tr>
                                        <td class="salary-slip-logo-box"><img
                                                src="{{ employee.salary_data[0]?.companylogo }}" class="img-responsive"
                                                alt="user" style="width: 150px;"
                                                *ngIf="(employee.salary_data[0]?.companylogo != '' && employee.salary_data[0]?.companylogo != null)">
                                        </td>
                                        <!-- <div class="img-responsive img-circle txt" *ngIf="(employee.salary_data[0]?.companylogo == '' || employee.salary_data[0]?.companylogo == null)" alt="user">
                                        {{employee.salary_data[0]?.emp_name.charAt(0)}}{{employee.salary_data[0]?.emp_name.charAt(employee.salary_data[0]?.emp_name.indexOf('
                                        ') + 1)}}</div> -->                                       
                                        <td>
                                            <div class="salary-slip-address-box">
                                                <p class="text-right">
                                                    {{employee.salary_data[0]?.companyname}}
                                                </p>
                                         
                                                <p class="text-right">
                                                    {{employee.salary_data[0]?.companyaddress}}
                                                </p>
                                            </div>
                                        </td>

                                    </tr>                                
                                    <tr>

                                        <td colspan="2" class="text-center Salary-Slip-month-title-box">
                                            <h4>
                                               
                                                Salary Slip for {{ empCodeArray[i].salMonthYear }}
                                            </h4>
                                        </td>
                                    </tr>



                                </table>
                            </div>

                            <div class="card-body">
                                <div class="main-content-wrapper">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="table-responsive reports-table-outer-box">
                                            <table class="table table-striped table-bordered"
                                                style="border-collapse: collapse;width: 100%;">
                                                <tr>
                                                    <td>Emp Code</td>
                                                    <td class="text-left">{{employee.salary_data[0]?.cjcode}}</td>


                                                    <td colspan="1">Employee Name</td>
                                                    <td colspan="3" class="text-left">
                                                        {{employee.salary_data[0]?.emp_name}}</td>
                                                </tr>
                                                <tr>

                                                    <!-- <td>Deputed Date</td> -->

                                                    <td>Date Of Joining</td>

                                                    <td class="text-left">{{employee.salary_data[0]?.doj}}</td>
                                                    <td colspan="1"><span *ngIf="showDoB">Date Of Birth</span></td>
                                                    <td colspan="3" class="text-left">
                                                        <span *ngIf="showDoB"> {{employee.salary_data[0]?.dateofbirth}}</span>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>Designation</td>
                                                    <td class="text-left">{{employee.salary_data[0]?.post_offered}}</td>
                                                    <td colspan="1">ESIC Number</td>
                                                    <td colspan="3" class="text-left">
                                                        {{employee.salary_data[0]?.esinumber}}</td>
                                                </tr>

                                                <tr>
                                                    <td>PAN</td>
                                                    <td class="text-left">{{employee.salary_data[0]?.pancardnumber}}</td>
                                                    <td colspan="1">UAN</td>
                                                    <td class="text-left" colspan="3">{{employee.salary_data[0]?.uannumber}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Bank A/c No. </td>
                                                    <td class="text-left">{{salary_data[0]?.bankaccount}}</td>
                                                    <td colspan="1">IFSC</td>
                                                    <td colspan="3" class="text-left">{{salary_data[0]?.ifsccode}}</td>
                                                </tr> 

                                                <tr>
                                                    <td>Pay Days</td>
                                                    <td class="text-left">{{employee.salary_data[0]?.paid_days}}</td>
                                                    <td colspan="1" *ngIf="this.tp_account_id!='2972'">LOP Days</td>
                                                    <td colspan="3" class="text-left" *ngIf="this.tp_account_id!='2972'">
                                                        {{employee.salary_data[0]?.lopdays}}</td>
                                                    <td colspan="1" *ngIf="this.tp_account_id=='2972'"></td>
                                                    <td colspan="3" class="text-left" *ngIf="this.tp_account_id=='2972'"></td>
                                                </tr>

                                                <tr>
                                                    <td>&nbsp;</td>
                                                    <td>&nbsp;</td>
                                                    <td colspan="1">&nbsp;</td>
                                                    <td colspan="3">&nbsp;</td>
                                                </tr>
                                                <tr>
                                                    <td>&nbsp;</td>
                                                    <td>&nbsp;</td>
                                                    <td colspan="1">&nbsp;</td>
                                                    <td colspan="3">&nbsp;</td>
                                                </tr>

                                                <tr>
                                                    <td colspan="4" class="text-left"><strong>Earnings</strong></td>
                                                    <td colspan="2" class="text-left"><strong>Deductions</strong></td>
                                                </tr>

                                                <tr>
                                                    <td><strong>Heads</strong></td>
                                                    <td>
                                                        <strong>Rate</strong>
                                                    </td>
                                                    <td>
                                                        <strong>Amount</strong>
                                                    </td>
                                                    <td>
                                                        <strong>Arrears</strong>
                                                    </td>
                                                    <td><strong>Heads</strong></td>
                                                    <td><strong>Amount</strong></td>
                                                </tr>



                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">{{employee.earningsHeaders[0]?.reportcomponentname || 'Basic'}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.ratebasic}}

                                                    </td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.basic}}
                                                    </td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.arearbasic}}
                                                    </td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[0]?.reportcomponentname || 'Provident Fund'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.pf}}</td>
                                                </tr>

                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">{{employee.earningsHeaders[1]?.reportcomponentname || 'HRA'}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.ratehra}}
                                                    </td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.hra}}
                                                    </td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.arearhra}}
                                                    </td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[1]?.reportcomponentname || 'ESIC'}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.employeeesirate}}</td>
                                                </tr>

                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">{{employee.earningsHeaders[2]?.reportcomponentname || 'Allowances'}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.ratespecialallowance}}
                                                    </td>

                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.allowance}}
                                                    </td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.arearallowance}}
                                                    </td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[2]?.reportcomponentname ||'NPS'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.nps}}</td>
                                                </tr>
                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">{{employee.earningsHeaders[3]?.reportcomponentname || 'Conveyance'}}</td>
                                                    <td class="brd-btm brd-top"> {{employee.salary_data[0]?.rateconv}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.conv}}
                                                    </td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[3]?.reportcomponentname || 'Medical Insurance'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.insurance}}
                                                </tr>

                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">{{employee.earningsHeaders[4]?.reportcomponentname || 'Medical'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratemedical}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.medical}}
                                                    </td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[4]?.reportcomponentname || 'Miscellaneous Deductions'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.other}}</td>
                                                </tr>
    <!-- Custom Salary Column Added by Arpit -->
    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratesalarybonus > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[5]?.reportcomponentname || 'Salary Bonus'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratesalarybonus}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.salarybonus}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratecommission > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[6]?.reportcomponentname || 'Commission'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratecommission}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.commission}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratetransport_allowance > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[7]?.reportcomponentname ||'Transport Allowance'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratetransport_allowance}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.transport_allowance}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratetravelling_allowance > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[8]?.reportcomponentname || 'Travelling Allowance'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratetravelling_allowance}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.travelling_allowance}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.rateleave_encashment > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[9]?.reportcomponentname || 'Leave Encashment'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.rateleave_encashment}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.leave_encashment}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.rateovertime_allowance > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[10]?.reportcomponentname || 'Overtime Allowance'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.rateovertime_allowance}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.overtime_allowance}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratenotice_pay > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[11]?.reportcomponentname || 'Notice Pay'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratenotice_pay}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.notice_pay}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratehold_salary_non_taxable > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[12]?.reportcomponentname || 'Hold Salary Non Taxable'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratehold_salary_non_taxable}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.hold_salary_non_taxable}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.ratechildren_education_allowance > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[13]?.reportcomponentname || 'Children Education Allowance'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.ratechildren_education_allowance}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.children_education_allowance}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>

    <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.rategratuityinhand > 0">
        <td class="brd-btm brd-top">{{employee.earningsHeaders[14]?.reportcomponentname || 'Gratuity Inhand'}}</td>
        <td class="brd-btm brd-top">{{employee.salary_data[0]?.rategratuityinhand}}</td>
        <td class="brd-btm brd-top">
            {{employee.salary_data[0]?.gratuityinhand}}
        </td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
        <td class="brd-btm brd-top"></td>
    </tr>
    <!-- End -->
                                          
                                                <tr>
                                               
                                                   <td class="brd-btm brd-top">Arrears</td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.totalarear}}</td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top"> {{employee.deductionHeaders[5]?.reportcomponentname ||'Taxes'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.taxes}}</td>
                                                   
                                                </tr>
                                                <tr class="brd-btm brd-top" *ngIf="employee.salary_data[0]?.tea_allowance > 0">
                                                    <td class="brd-btm brd-top">Tea Allowance</td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.salary_data[0]?.tea_allowance}}
                                                    </td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top"></td>
                                                </tr>
                                                <tr>
                                                    <!-- <td class="brd-btm brd-top">Govt. Bonus</td> -->
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">
                                                        <!-- {{employee.salary_data[0]?.govt_bonus_amt}} -->
                                                    </td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">{{employee.deductionHeaders[6]?.reportcomponentname || 'Professional Tax'}}</td>
                                                    <td class="brd-btm brd-top">{{employee.salary_data[0]?.professionaltax}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="brd-btm brd-top">{{employee.variable_data[0]?.variable_name}}</td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top">{{employee.variable_data[0]?.amt}}</td>
                                                    <td class="brd-btm brd-top"></td>
                                                    <td class="brd-btm brd-top"> </td>
                                                    <td class="brd-btm brd-top"></td>
                                                   
                                                </tr>
                                                <!-- <tr class="brd-btm brd-top">
                        <td class="brd-btm brd-top">
                            variable_name		
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top">
                            amt
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                    </tr>
           
                    <tr class="brd-btm brd-top">
                        <td class="brd-btm brd-top">
                            variable_name
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top">
                            amt									
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                    </tr>
             
                    <tr class="brd-btm brd-top">
                        <td class="brd-btm brd-top">
                            variable_name
                            
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top">
                            amt							
                        </td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                        <td class="brd-btm brd-top"></td>
                    </tr>
           

                <tr class="brd-btm brd-top">
                    <td class="brd-btm brd-top">
                       
                        variable_name
                        
                    </td>
                    <td class="brd-btm brd-top">
                       
                        amt
                    </td> 
                    <td class="brd-btm brd-top"></td>
                    <td class="brd-btm brd-top"></td>
                    <td class="brd-btm brd-top">Taxes</td>
                    <td class="brd-btm brd-top">taxes</td>													
                </tr> -->
                                                <tr class="brd-btm brd-top">
                                                    <td class="brd-btm brd-top">&nbsp;</td>
                                                    <td class="brd-btm brd-top">&nbsp;</td>
                                                    <td class="brd-btm brd-top">&nbsp;</td>
                                                    <td class="brd-btm brd-top">&nbsp;</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.deduction_data[0]?.deduction_name}}</td>
                                                    <td class="brd-btm brd-top">
                                                        {{employee.deduction_data[0]?.amt}}
                                                    </td>
                                                </tr>



                                                <!-- <tr class="brd-btm brd-top">
                            <td class="brd-btm brd-top">variable_name</td>
                            <td class="brd-btm brd-top">
                                amt
                            </td>
                            <td class="brd-btm brd-top"></td>
                            <td class="brd-btm brd-top"></td>
                            <td class="brd-btm brd-top"></td>
                            <td class="brd-btm brd-top"></td>
                        </tr> -->


                                                <tr>
                                                    <td colspan="1"><strong>Total Earnings (Gross)</strong></td>
                                                    <td colspan="1" class="text-left">
                                                        {{employee.salary_data[0]?.rategross}}
                                                    </td>
                                                    <td colspan="1" class="text-left">
                                                        {{employee.salary_data[0]?.grossearning}}
                                                    </td>
                                                    <td colspan="1" class="text-left">
                                                        {{employee.salary_data[0]?.areargross}}
                                                    </td>

                                                    <td colspan="1"><strong>Total Deductions</strong></td>
                                                    <td colspan="1" class="text-left">
                                                        {{employee.salary_data[0]?.grossdeduction}}
                                                    </td>

                                                </tr>

                                                <tr>

                                                    <td colspan="3">Net Payable</td>
                                                    <td colspan="3" class="text-left">
                                                        {{employee.salary_data[0]?.netpay}}</td>

                                                </tr>

                                            </table>



                                            <p class="text-center">Disclaimer: This is a system generated payslip, does
                                                not require any signature.</p>
                                            <!-- <button class="save-button" (click)="window.print('page-wrapper')">Download</button> -->


                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="text-center">
            <button type="button" class="btn btn-success" (click)="onPrint()">Print</button>
        </div> -->

    </div>
</section>
<!-- <app-footer></app-footer> -->